<!doctype html>
<html ng-app="myApp">
<head>
    <meta charset="utf-8">
    <title>Delivery service</title>
    <link href="css/bootstrap.css" rel="stylesheet" type="text/css" />
    <link href="css/bootstrap-theme.css" rel="stylesheet" type="text/css" />
    <link href="css/select2.css" rel="stylesheet" type="text/css" />
    <link href="css/select2-bootstrap.css" rel="stylesheet" type="text/css" />
</head>
<body ng-controller="appCtrl" back-img="img/bg.jpg">

<div ng-controller="AlertCtrl">
    <div class="navbar navbar-default"  ng-controller="navBarCtrl">
        <div class="navbar-header">
            <a class="navbar-brand" ui-sref="#">iTechArt</a>
        </div>
        <div class="collapse navbar-collapse">
            <div ng-switch on="currentUser.role">
                <div ng-switch-when="ORDER_MANAGER">
                    <ul class="nav navbar-nav">
                        <li ng-class="setActiveClass('api/orders/1')"><a ui-sref="orders({page: 1})">Заказы</a></li>
                        <li ng-class="setActiveClass('api/contacts/1')"><a ui-sref="contacts({page: 1})">Контакты</a></li>
                    </ul>
                </div>
                <div ng-switch-when="PROCESSING_MANAGER">
                    <ul class="nav navbar-nav">
                        <li ng-class="setActiveClass('api/orders/1')"><a ui-sref="orders({page: 1})">Заказы</a></li>
                    </ul>
                </div>
                <div ng-switch-when="COURIER">
                    <ul class="nav navbar-nav">
                        <li ng-class="setActiveClass('api/orders/1')"><a ui-sref="orders({page: 1})">Заказы</a></li>
                    </ul>
                </div>
                <div ng-switch-when="GUEST">
                    <ul class="nav navbar-nav">
                        <li ng-class="setActiveClass('api/login')"><a ui-sref="login">Добро пожаловать!</a></li>
                    </ul>
                </div>
                <div ng-switch-default>
                    <ul class="nav navbar-nav">
                        <li ng-class="setActiveClass('api/orders/1')"><a ui-sref="orders({page: 1})">Заказы</a></li>
                        <li ng-class="setActiveClass('api/users')"><a ui-sref="users">Пользователи</a></li>
                        <li ng-class="setActiveClass('api/contacts/1')"><a ui-sref="contacts({page: 1})">Контакты</a></li>
                    </ul>
                </div>
            </div>
            <div ng-switch on="currentUser.isAuthorized">
                <div ng-switch-when="auth-authorized">
                    <ul class="nav navbar-nav navbar-right">
                        <li><a ui-sref="#">{{rusRole.role}}: {{currentUser.name}}</a></li>
                        <li><a ui-sref="login" ng-click = "signOut()">Sign out</a></li>
                    </ul>
                </div>
                <div ng-switch-when="auth-not-authorized">
                    <ul class="nav navbar-nav navbar-right">
                        <li><a ui-sref="#">{{rusRole.role}}: {{currentUser.name}}</a></li>
                        <li ng-class="setActiveClass('api/login')"><a ui-sref="login">Sign in</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <div class="container-fluid" ng-show="currentUser.isAuthorized == 'auth-authorized'">
        <div ncy-breadcrumb></div>
    </div>
    <div class = "errorPanel">
        <alert ng-repeat="alert in alerts" type="alert.type" close="closeAlert($index)">{{alert.msg}}</alert>
    </div>
</div>

<div ui-view></div>

<div class="modal-footer">
    © 2014 iTechArt
</div>

<script src="lib/jquery/jquery-1.10.2.min.js"></script>
<script src="lib/angular/angular.js"></script>
<script src="lib/angular/angular-ui-router.js"></script>
<script src="lib/angular/angular-resource.js"></script>
<script src="lib/select2/select2.js"></script>
<script src="lib/angular-ui/select2.js"></script>
<script src="lib/bootstrap/bootstrap.min.js"></script>
<script src="lib/angular-ui/ui-bootstrap-tpls-0.10.0.min.js"></script>
<script src="lib/angular-ui/angular-breadcrumb.min.js"></script>
<script src="lib/angular-ui/ngStorage.min.js"></script>
<script src="lib/angular/checklist-model.js"></script>

<script src="js/app.js"></script>

<script src="js/constants/authRoles.js"></script>
<script src="js/constants/appEvents.js"></script>
<script src="js/constants/orderStates.js"></script>
<script src="js/constants/paginationConfig.js"></script>

<script src="js/controllers/applicationController.js"></script>
<script src="js/controllers/loginController.js"></script>
<script src="js/controllers/navController.js"></script>
<script src="js/controllers/orderController.js"></script>
<script src="js/controllers/contactController.js"></script>
<script src="js/controllers/userController.js"></script>
<script src="js/controllers/alertCtrl.js"></script>

<script src="js/directives/backgroundDirective.js"></script>

<script src="js/services/authService.js"></script>
<script src="js/services/base64.js"></script>
<script src="js/services/sessionService.js"></script>
<script src="js/services/orderService.js"></script>
<script src="js/services/contactService.js"></script>
<script src="js/services/userService.js"></script>
<script src="js/services/basicAuthService.js"></script>
<script src="js/services/interceptorService.js"></script>

</body>
</html>